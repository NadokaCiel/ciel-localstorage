{"version":3,"file":"ciel-localstorage.min.js","sources":["../src/lib/index.js","../src/entry/index.js"],"sourcesContent":["export function setLocalStorage(key, value, expired) {\n  if (!value && value !== 0) {\n    return '';\n  }\n  window.localStorage.setItem(key, JSON.stringify(value));\n  if (expired && Number.isInteger(expired)) {\n    window.localStorage.setItem(`${key}__expires__`, Date.now() + 1000 * expired);\n  }\n  return value;\n}\n\nexport function getLocalStorage(key) {\n  const expired = window.localStorage.getItem(`${key}__expires__`);\n  const now = Date.now();\n\n  if (expired && now >= parseInt(expired, 10)) {\n    removeLocalStorage(key);\n    return '';\n  }\n  const value = window.localStorage.getItem(key);\n  return value ? JSON.parse(value) : null;\n}\n\nexport function removeLocalStorage(key) {\n  window.localStorage.removeItem(key);\n  window.localStorage.removeItem(`${key}__expires__`);\n}","import {\n  setLocalStorage,\n  getLocalStorage,\n  removeLocalStorage\n} from '../lib/index';\n\nexport default {\n  set: setLocalStorage,\n  get: getLocalStorage,\n  remove: removeLocalStorage\n};"],"names":["removeLocalStorage","key","window","localStorage","removeItem","set","value","expired","setItem","_JSON$stringify","_Number$isInteger","_Date$now","get","getItem","now","_parseInt","JSON","parse","remove"],"mappings":"sxBAuBgBA,EAAmBC,GACjCC,OAAOC,aAAaC,WAAWH,GAC/BC,OAAOC,aAAaC,qBAAcH,6MCnBrB,CACbI,aDP8BJ,EAAKK,EAAOC,UACrCD,GAAmB,IAAVA,GAGdJ,OAAOC,aAAaK,QAAQP,EAAKQ,EAAeH,IAC5CC,GAAWG,EAAiBH,IAC9BL,OAAOC,aAAaK,kBAAWP,iBAAkBU,IAAa,IAAOJ,GAEhED,GANE,ICMTM,IDGF,SAAgCX,OACxBM,EAAUL,OAAOC,aAAaU,kBAAWZ,kBACzCa,EAAMH,IAEZ,GAAIJ,GAAWO,GAAOC,EAASR,EAAS,IAEtC,OADAP,EAAmBC,GACZ,GAET,IAAMK,EAAQJ,OAAOC,aAAaU,QAAQZ,GAC1C,OAAOK,EAAQU,KAAKC,MAAMX,GAAS,MCXnCY,OAAQlB"}