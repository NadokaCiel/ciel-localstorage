{"version":3,"file":"ciel-localstorage.js","sources":["../src/lib/index.js","../src/entry/index.js"],"sourcesContent":["export function setLocalStorage(key, value, expired) {\n  if (!value && value !== 0) {\n    return '';\n  }\n  window.localStorage.setItem(key, JSON.stringify(value));\n  if (expired && Number.isInteger(expired)) {\n    window.localStorage.setItem(`${key}__expires__`, Date.now() + 1000 * expired);\n  }\n  return value;\n}\n\nexport function getLocalStorage(key) {\n  const expired = window.localStorage.getItem(`${key}__expires__`);\n  const now = Date.now();\n\n  if (expired && now >= parseInt(expired, 10)) {\n    removeLocalStorage(key);\n    return '';\n  }\n  const value = window.localStorage.getItem(key);\n  return value ? JSON.parse(value) : null;\n}\n\nexport function removeLocalStorage(key) {\n  window.localStorage.removeItem(key);\n  window.localStorage.removeItem(`${key}__expires__`);\n}","import {\n  setLocalStorage,\n  getLocalStorage,\n  removeLocalStorage\n} from '../lib/index';\n\nexport default {\n  set: setLocalStorage,\n  get: getLocalStorage,\n  remove: removeLocalStorage\n};"],"names":["setLocalStorage","key","value","expired","window","localStorage","setItem","getLocalStorage","getItem","now","removeLocalStorage","JSON","parse","removeItem","set","get","remove"],"mappings":";;;;;;;;;;;;;;;WAAgBA,eAAT,CAAyBC,GAAzB,CAA8BC,KAA9B,CAAqCC,OAArC,CAA8C,QAC9CD,KAAD,EAAoB,CAAV,GAAAA,KADqC,EAInDE,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BL,GAA5B,CAAiC,gBAAeC,KAAf,CAAjC,CAJmD,CAK/CC,OAAO,EAAI,kBAAiBA,OAAjB,CALoC,EAMjDC,MAAM,CAACC,YAAP,CAAoBC,OAApB,WAA+BL,GAA/B,gBAAiD,YAAa,IAAOE,OAArE,CANiD,CAQ5CD,KAR4C,EAE1C,EAOV,CAED,SAAgBK,eAAT,CAAyBN,GAAzB,CAA8B,KAC7BE,OAAO,CAAGC,MAAM,CAACC,YAAP,CAAoBG,OAApB,WAA+BP,GAA/B,gBADmB,CAE7BQ,GAAG,CAAG,WAFuB,CAInC,GAAIN,OAAO,EAAIM,GAAG,EAAI,UAASN,OAAT,CAAkB,EAAlB,CAAtB,CAEE,OADAO,kBAAkB,CAACT,GAAD,CAClB,CAAO,EAAP,CAEF,IAAMC,KAAK,CAAGE,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4BP,GAA5B,CAAd,CACA,OAAOC,KAAK,CAAGS,IAAI,CAACC,KAAL,CAAWV,KAAX,CAAH,CAAuB,IACpC,CAED,SAAgBQ,kBAAT,CAA4BT,GAA5B,CAAiC,CACtCG,MAAM,CAACC,YAAP,CAAoBQ,UAApB,CAA+BZ,GAA/B,CADsC,CAEtCG,MAAM,CAACC,YAAP,CAAoBQ,UAApB,WAAkCZ,GAAlC,iBACD;;ACpBD,cAAe,CACba,GAAG,CAAEd,eADQ,CAEbe,GAAG,CAAER,eAFQ,CAGbS,MAAM,CAAEN,kBAHK,CAAf;;;;;;;;"}